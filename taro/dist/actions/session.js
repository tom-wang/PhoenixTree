"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _extends=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var o=arguments[n];for(var t in o)Object.prototype.hasOwnProperty.call(o,t)&&(e[t]=o[t])}return e};exports.setCode=setCode,exports.setUserInfo=setUserInfo,exports.setRegInfo=setRegInfo,exports.loadRegInfo=loadRegInfo,exports.setHasReg=setHasReg,exports.setUserInfoList=setUserInfoList,exports.setUserInfoLoading=setUserInfoLoading,exports.setRegInfoLoading=setRegInfoLoading;var _session=require("../constants/session.js");function setCode(e){return{type:_session.SET_CODE,payload:e}}function setUserInfo(e){return{type:_session.SET_USERINFO,payload:e}}function setRegInfo(e){return{type:_session.SET_REGINFO,payload:e}}function loadRegInfo(){return function(o){return wx.cloud.callFunction({name:"add",data:{a:12,b:19}}).then(function(e){console.log(e);var n=e.result.openId;return wx.cloud.database().collection("member_info").where({_openid:n}).get().then(function(e){console.log(e),o(setHasReg(!!e.data.length)),o(setRegInfoLoading(!1)),o(setRegInfo(_extends({},e.data[0])))}).catch(function(){o(setRegInfoLoading(!1))})})}}function setHasReg(e){return{type:_session.SET_HASREG,payload:e}}function setUserInfoList(e){return{type:_session.SET_USERINFOLIST,payload:e}}function setUserInfoLoading(e){return{type:_session.SET_USERINFOLOADING,payload:e}}function setRegInfoLoading(e){return{type:_session.SET_REGINFOLOADING,payload:e}}